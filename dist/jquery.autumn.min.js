/*! autumn - v0.0.1 - 2014-07-02
* https://github.com/guyisra/autumn
* Copyright (c) 2014 Guy Israeli; Licensed MIT */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.options=a.extend({},h,c),this._defaults=h,this._name=g,this.init()}var f,g="autumn",h={container:"map",scrollWheenZoom:!1,center:[51.1788,-1.8262],maxZoom:10,tiles_url:"http://{s}.tiles.mapbox.com/v3/<MAP ID>/{z}/{x}/{y}.png",attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>'},i=new L.layerGroup;e.prototype={init:function(){f=L.map(this.element.id,this.options).setView(this.options.center,17),this._map=f,L.tileLayer(this.options.tiles_url,{attribution:this.options.attribution,maxZoom:this.options.maxZoom}).addTo(f)},addMarker:function(a){L.marker(a).addTo(f)},deleteMarkers:function(a){a?f.removeLayer(a):(f.removeLayer(i),i=new L.LayerGroup)}},a.fn.autumn_map=function(){return a(this).data("plugin_autumn")._map},a.fn.autumn=function(b,c){var g=this,h=a(this).data("plugin_autumn");switch("object"==typeof b&&(c=b),(b===d||"string"!=a.type(b))&&(b="null"),b){case"null":return g.each(function(){a.data(this,"plugin_autumn")||a.data(this,"plugin_autumn",new e(this,c))});case"addMarker":var j;return j=a.isArray(c.markers[0])?c.markers:"string"==typeof c.markers[0]?[JSON.parse(c.markers)]:[c.markers],a.each(j,function(){L.marker(this).addTo(i)}),i.addTo(f),this;case"deleteMarkers":return h.deleteMarkers(),this}}}(jQuery,window,document);