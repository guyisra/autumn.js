/*! autumn - v0.0.4.2 - 2014-09-17
* https://github.com/guyisra/autumn
* Copyright (c) 2014 Guy Israeli; Licensed MIT */
!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.init()}var f="autumn",g={center:null,zoom:null,layers:null,minZoom:null,maxZoom:18,maxBounds:null,dragging:!0,touchZoom:!0,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!0,tap:!0,tapTolerance:15,trackResize:!0,worldCopyJump:!1,closePopupOnClick:!0,bounceAtZoomLimits:!0,tiles_url:"http://{s}.tiles.mapbox.com/v3/<MAP ID>/{z}/{x}/{y}.png",attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>'};e.prototype={init:function(){var a=L.map(this.element.id,this.options).setView(this.options.center,17);this._map=a,this.layer=new L.featureGroup,this.locationLayer=new L.layerGroup,L.tileLayer(this.options.tiles_url,{attribution:this.options.attribution,maxZoom:this.options.maxZoom}).addTo(a)},addMarker:function(a){L.marker(a).addTo(this._map)},deleteMarkers:function(a){a?this._map.removeLayer(a):(this._map.removeLayer(this.layer),this.layer=new L.featureGroup)}},a.fn.autumn_map=function(){return a(this).data("plugin_autumn")._map},a.fn.autumn=function(b,c){var f=this,g=a(this).data("plugin_autumn");switch("object"==typeof b&&(c=b),(b===d||"string"!=a.type(b))&&(b="null"),b){case"null":return f.each(function(){a.data(this,"plugin_autumn")||a.data(this,"plugin_autumn",new e(this,c))});case"addMarker":var h=c.marker,i=L.marker(h);return i.addTo(g.layer),g.layer.addTo(g._map),i;case"addMarkers":var j=c.markers,k=[];return a.each(j,function(){var a=L.marker(this);k.push(a),a.addTo(g.layer)}),g.layer.addTo(g._map),this;case"deleteMarkers":return g.deleteMarkers(),this;case"fitMarkers":return g._map.fitBounds(g.layer.getBounds(),{maxZoom:16}),this;case"addCircle":var l=L.circle(c.coordinates,c.radius);g._map.hasLayer(g.locationLayer)&&(g._map.removeLayer(g.locationLayer),g.locationLayer=new L.layerGroup),l.addTo(g.locationLayer),g.locationLayer.addTo(g._map)}}}(jQuery,window,document);